jQuery.fn.searchFilter=function(n,t){function i(n,t,i){var nt,l;if(this.$=n,this.add=function(t){return t==null?n.find(".ui-add-last").click():n.find(".sf:eq("+t+") .ui-add").click(),this},this.del=function(t){return t==null?n.find(".sf:last .ui-del").click():n.find(".sf:eq("+t+") .ui-del").click(),this},this.search=function(){return n.find(".ui-search").click(),this},this.reset=function(t){return t===undefined&&(t=!1),n.find(".ui-reset").trigger("click",[t]),this},this.close=function(){return n.find(".ui-closer").click(),this},t!=null){function w(){return jQuery(this).toggleClass("ui-state-hover"),!1}function b(n){return jQuery(this).toggleClass("ui-state-active",n.type=="mousedown"),!1}function u(n,t){return"<option value='"+n+"'>"+t+"<\/option>"}function a(n,t,i){return"<select class='"+n+"'"+(i?" style='display:none;'":"")+">"+t+"<\/select>"}function k(t,i){var r=n.find("tr.sf td.data "+t);r[0]!=null&&i(r)}function d(t,i){var r=n.find("tr.sf td.data "+t);r[0]!=null&&jQuery.each(i,function(){this.data!=null?r.bind(this.type,this.data,this.fn):r.bind(this.type,this.fn)})}var r=jQuery.extend({},jQuery.fn.searchFilter.defaults,i),f=-1,s="";jQuery.each(r.groupOps,function(){s+=u(this.op,this.text)}),s="<select name='groupOp'>"+s+"<\/select>",n.html("").addClass("ui-searchFilter").append("<div class='ui-widget-overlay' style='z-index: -1'>&#160;<\/div><table class='ui-widget-content ui-corner-all'><thead><tr><td colspan='5' class='ui-widget-header ui-corner-all' style='line-height: 18px;'><div class='ui-closer ui-state-default ui-corner-all ui-helper-clearfix' style='float: right;'><span class='ui-icon ui-icon-close'><\/span><\/div>"+r.windowTitle+"<\/td><\/tr><\/thead><tbody><tr class='sf'><td class='fields'><\/td><td class='ops'><\/td><td class='data'><\/td><td><div class='ui-del ui-state-default ui-corner-all'><span class='ui-icon ui-icon-minus'><\/span><\/div><\/td><td><div class='ui-add ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plus'><\/span><\/div><\/td><\/tr><tr><td colspan='5' class='divider'><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><\/tbody><tfoot><tr><td colspan='3'><span class='ui-reset ui-state-default ui-corner-all' style='display: inline-block; float: left;'><span class='ui-icon ui-icon-arrowreturnthick-1-w' style='float: left;'><\/span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+r.resetText+"<\/span><\/span><span class='ui-search ui-state-default ui-corner-all' style='display: inline-block; float: right;'><span class='ui-icon ui-icon-search' style='float: left;'><\/span><span style='line-height: 18px; padding: 0 7px 0 3px;'>"+r.searchText+"<\/span><\/span><span class='matchText'>"+r.matchText+"<\/span> "+s+" <span class='rulesText'>"+r.rulesText+"<\/span><\/td><td>&#160;<\/td><td><div class='ui-add-last ui-state-default ui-corner-all'><span class='ui-icon ui-icon-plusthick'><\/span><\/div><\/td><\/tr><\/tfoot><\/table>");var v=n.find("tr.sf"),g=v.find("td.fields"),y=v.find("td.ops"),e=v.find("td.data"),h="";jQuery.each(r.operators,function(){h+=u(this.op,this.text)}),h=a("default",h,!0),y.append(h),nt="<input type='text' class='default' style='display:none;' />",e.append(nt);var c="",p=!1,o=!1;jQuery.each(t,function(t){var h=t,s,i;if(c+=u(this.itemval,this.text),this.ops!=null&&(p=!0,s="",jQuery.each(this.ops,function(){s+=u(this.op,this.text)}),s=a("field"+h,s,!0),y.append(s)),this.dataUrl!=null){t>f&&(f=t),o=!0;var l=this.dataEvents,v=this.dataInit,w=this.buildSelect;jQuery.ajax(jQuery.extend({url:this.dataUrl,complete:function(i){var r;r=w!=null?jQuery("<div />").append(w(i)):jQuery("<div />").append(i.responseText),r.find("select").addClass("field"+h).hide(),e.append(r.html()),v&&k(".field"+t,v),l&&d(".field"+t,l),t==f&&n.find("tr.sf td.fields select[name='field']").change()}},r.ajaxSelectOptions))}else this.dataValues!=null?(o=!0,i="",jQuery.each(this.dataValues,function(){i+=u(this.value,this.text)}),i=a("field"+h,i,!0),e.append(i)):(this.dataEvents!=null||this.dataInit!=null)&&(o=!0,i="<input type='text' class='field"+h+"' />",e.append(i));this.dataInit!=null&&t!=f&&k(".field"+t,this.dataInit),this.dataEvents!=null&&t!=f&&d(".field"+t,this.dataEvents)}),c="<select name='field'>"+c+"<\/select>",g.append(c),l=g.find("select[name='field']"),p?l.change(function(n){var r=n.target.selectedIndex,i=jQuery(n.target).parents("tr.sf").find("td.ops"),t;return i.find("select").removeAttr("name").hide(),t=i.find(".field"+r),t[0]==null&&(t=i.find(".default")),t.attr("name","op").show(),!1}):y.find(".default").attr("name","op").show(),o?l.change(function(n){var r=n.target.selectedIndex,i=jQuery(n.target).parents("tr.sf").find("td.data"),t;return i.find("select,input").removeClass("vdata").hide(),t=i.find(".field"+r),t[0]==null&&(t=i.find(".default")),t.show().addClass("vdata"),!1}):e.find(".default").show().addClass("vdata"),(p||o)&&l.change(),n.find(".ui-state-default").hover(w,w).mousedown(b).mouseup(b),n.find(".ui-closer").click(function(){r.onClose(jQuery(n.selector));return!1}),n.find(".ui-del").click(function(n){var t=jQuery(n.target).parents(".sf");return t.siblings(".sf").length>0?(r.datepickerFix===!0&&jQuery.fn.datepicker!==undefined&&t.find(".hasDatepicker").datepicker("destroy"),t.remove()):(t.find("select[name='field']")[0].selectedIndex=0,t.find("select[name='op']")[0].selectedIndex=0,t.find(".data input").val(""),t.find(".data select").each(function(){this.selectedIndex=0}),t.find("select[name='field']").change(function(n){n.stopPropagation()})),!1}),n.find(".ui-add").click(function(n){var i=jQuery(n.target).parents(".sf"),t=i.clone(!0).insertAfter(i),f,u;return t.find(".ui-state-default").removeClass("ui-state-hover ui-state-active"),r.clone?(t.find("select[name='field']")[0].selectedIndex=i.find("select[name='field']")[0].selectedIndex,f=t.find("select[name='op']")[0]==null,f||(t.find("select[name='op']").focus()[0].selectedIndex=i.find("select[name='op']")[0].selectedIndex),u=t.find("select.vdata"),u[0]!=null&&(u[0].selectedIndex=i.find("select.vdata")[0].selectedIndex)):(t.find(".data input").val(""),t.find("select[name='field']").focus()),r.datepickerFix===!0&&jQuery.fn.datepicker!==undefined&&i.find(".hasDatepicker").each(function(){var n=jQuery.data(this,"datepicker").settings;t.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(n)}),t.find("select[name='field']").change(function(n){n.stopPropagation()}),!1}),n.find(".ui-search").click(function(){var i=jQuery(n.selector),t,u=i.find("select[name='groupOp'] :selected").val();t=r.stringResult?'{"groupOp":"'+u+'","rules":[':{groupOp:u,rules:[]},i.find(".sf").each(function(n){var u=jQuery(this).find("select[name='field'] :selected").val(),f=jQuery(this).find("select[name='op'] :selected").val(),i=jQuery(this).find("input.vdata,select.vdata :selected").val();i+="",r.stringResult?(i=i.replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),n>0&&(t+=","),t+='{"field":"'+u+'",',t+='"op":"'+f+'",',t+='"data":"'+i+'"}'):t.rules.push({field:u,op:f,data:i})}),r.stringResult&&(t+="]}");r.onSearch(t);return!1}),n.find(".ui-reset").click(function(t,i){var u=jQuery(n.selector);u.find(".ui-del").click(),u.find("select[name='groupOp']")[0].selectedIndex=0;r.onReset(i);return!1}),n.find(".ui-add-last").click(function(){var i=jQuery(n.selector+" .sf:last"),t=i.clone(!0).insertAfter(i);return t.find(".ui-state-default").removeClass("ui-state-hover ui-state-active"),t.find(".data input").val(""),t.find("select[name='field']").focus(),r.datepickerFix===!0&&jQuery.fn.datepicker!==undefined&&i.find(".hasDatepicker").each(function(){var n=jQuery.data(this,"datepicker").settings;t.find("#"+this.id).unbind().removeAttr("id").removeClass("hasDatepicker").datepicker(n)}),t.find("select[name='field']").change(function(n){n.stopPropagation()}),!1}),this.setGroupOp=function(t){selDOMobj=n.find("select[name='groupOp']")[0];for(var r={},u=selDOMobj.options.length,i=0;i<u;i++)r[selDOMobj.options[i].value]=i;selDOMobj.selectedIndex=r[t],jQuery(selDOMobj).change(function(n){n.stopPropagation()})},this.setFilter=function(n){var r=n.sfref,h=n.filter,o=[],t,u,p,c,l,f={},e,a,s,v,y;for(selDOMobj=r.find("select[name='field']")[0],t=0,p=selDOMobj.options.length;t<p;t++)f[selDOMobj.options[t].value]={index:t,ops:{}},o.push(selDOMobj.options[t].value);for(t=0,l=o.length;t<l;t++){if(selDOMobj=r.find(".ops > select[class='field"+t+"']")[0],selDOMobj)for(u=0,c=selDOMobj.options.length;u<c;u++)f[o[t]].ops[selDOMobj.options[u].value]=u;if(selDOMobj=r.find(".data > select[class='field"+t+"']")[0],selDOMobj)for(f[o[t]].data={},u=0,c=selDOMobj.options.length;u<c;u++)f[o[t]].data[selDOMobj.options[u].value]=u}if(e=h.field,f[e]&&(a=f[e].index),a!=null){if(s=f[e].ops[h.op],s===undefined)for(t=0,l=i.operators.length;t<l;t++)if(i.operators[t].op==h.op){s=t;break}v=h.data,y=f[e].data==null?-1:f[e].data[v]}return a!=null&&s!=null&&y!=null?(r.find("select[name='field']")[0].selectedIndex=a,r.find("select[name='field']").change(),r.find("select[name='op']")[0].selectedIndex=s,r.find("input.vdata").val(v),r=r.find("select.vdata")[0],r&&(r.selectedIndex=y),!0):!1}}}return new i(this,n,t)},jQuery.fn.searchFilter.version="1.2.9",jQuery.fn.searchFilter.defaults={clone:!0,datepickerFix:!0,onReset:function(n){alert("Reset Clicked. Data Returned: "+n)},onSearch:function(n){alert("Search Clicked. Data Returned: "+n)},onClose:function(n){n.hide()},groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],operators:[{op:"eq",text:"is equal to"},{op:"ne",text:"is not equal to"},{op:"lt",text:"is less than"},{op:"le",text:"is less or equal to"},{op:"gt",text:"is greater than"},{op:"ge",text:"is greater or equal to"},{op:"in",text:"is in"},{op:"ni",text:"is not in"},{op:"bw",text:"begins with"},{op:"bn",text:"does not begin with"},{op:"ew",text:"ends with"},{op:"en",text:"does not end with"},{op:"cn",text:"contains"},{op:"nc",text:"does not contain"}],matchText:"match",rulesText:"rules",resetText:"Reset",searchText:"Search",stringResult:!0,windowTitle:"Search Rules",ajaxSelectOptions:{}};
//@ sourceMappingURL=jquery.searchFilter.min.js.map